import{j as e}from"./jsx-runtime-6eef64cc.js";import{r as m,R as v}from"./index-c013ead5.js";import{c as i,B as h,H as R}from"./index.esm-7385c452.js";import"./_commonjsHelpers-725317a4.js";function T(a,n){m.useEffect(()=>{const r=o=>{!a.current||a.current.contains(o.target)||n(o)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[a,n])}function E(a,n,r){m.useEffect(()=>{var u;const o=l=>{var c;if(!r)return;const t=(c=a.current)==null?void 0:c.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),s=t==null?void 0:t[0],d=t==null?void 0:t[t.length-1];l.key==="Tab"&&(l.shiftKey&&document.activeElement===s?(l.preventDefault(),d==null||d.focus()):!l.shiftKey&&document.activeElement===d&&(l.preventDefault(),s==null||s.focus()))};return n&&((u=a.current)==null||u.addEventListener("keydown",o)),()=>{var l;(l=a.current)==null||l.removeEventListener("keydown",o)}},[n,r,a])}function k({title:a,body:n,onAccept:r,onDecline:o,onClose:u,buttonVariant:l="outline",theme:t,backgroundMask:s=!1,setModalStatus:d,modalRef:c,closeButtonRef:f}){return e.jsx(e.Fragment,{children:e.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:i("fixed top-0 left-0 right-0 bottom-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full flex items-center justify-center",s?"dark:bg-gray-900":""),children:e.jsx("div",{ref:c,className:"relative w-full max-w-2xl max-h-full border-primary-200",children:e.jsxs("div",{className:i("relative bg-white rounded-lg shadow",t==="light"?"light:bg-white-700":"dark:bg-gray-700"),children:[e.jsxs("div",{className:i("flex items-start justify-between p-4 border-b rounded-t",t==="light"?"light:border-gray-600":"dark:border-gray-600"),children:[e.jsx("h3",{id:"modal-title",className:i("text-xl font-semibold",t==="light"?"text-gray-900":"text-white"),children:a}),e.jsx("button",{ref:f,type:"button",className:i("text-gray-400 bg-transparent hover:bg-gray-100 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center",t==="light"?"dark:hover:hover:bg-primary-600 dark:hover:text-white":"dark:hover:bg-primary-600 dark:hover:text-white"),onClick:()=>{d(!1),u&&u()},"aria-label":"Close modal","aria-labelledby":"modal-title",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsx("div",{id:"modal-description",className:"p-6 space-y-6 flex items-start","aria-live":"polite",children:e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:i("text-base",t==="light"?"text-gray-900":"text-white"),children:n})})}),e.jsxs("div",{className:i("flex justify-end items-end p-6 space-x-2 border-t border-gray-200 rounded-b",t==="light"?"light:border-gray-600":"dark:border-gray-600"),children:[e.jsx(h,{isDark:t==="dark",variant:l,onClick:()=>{d(!1),r&&r()},"aria-label":"Continue",children:"Continue"}),e.jsx(h,{isDark:t==="dark",variant:l==="primary"?"outline":"primary",onClick:()=>{d(!1),o&&o()},"aria-label":"Cancel",children:"Cancel"})]})]})})})})}try{k.displayName="Agree",k.__docgenInfo={description:"",displayName:"Agree",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},body:{defaultValue:null,description:"",name:"body",required:!0,type:{name:"string"}},buttonVariant:{defaultValue:{value:"outline"},description:"",name:"buttonVariant",required:!1,type:{name:"string"}},onAccept:{defaultValue:null,description:"",name:"onAccept",required:!1,type:{name:"(() => void)"}},onDecline:{defaultValue:null,description:"",name:"onDecline",required:!1,type:{name:"(() => void)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},backgroundMask:{defaultValue:{value:"false"},description:"",name:"backgroundMask",required:!1,type:{name:"boolean"}},setModalStatus:{defaultValue:null,description:"",name:"setModalStatus",required:!0,type:{name:"(status: boolean) => void"}},modalRef:{defaultValue:null,description:"",name:"modalRef",required:!0,type:{name:"MutableRefObject<HTMLDivElement | null>"}},closeButtonRef:{defaultValue:null,description:"",name:"closeButtonRef",required:!0,type:{name:"MutableRefObject<HTMLButtonElement | null>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}}}}}catch{}function V({title:a,body:n,onAccept:r,onDecline:o,onClose:u,buttonVariant:l="outline",theme:t,backgroundMask:s=!1,setModalStatus:d,modalRef:c,closeButtonRef:f}){return e.jsx(e.Fragment,{children:e.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":"modal-description",className:i("fixed top-0 left-0 right-0 bottom-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full flex items-center justify-center",s?"dark:bg-gray-900":""),children:e.jsx("div",{ref:c,className:"relative w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:i("relative bg-white rounded-lg shadow",t==="light"?"light:bg-white-700":"dark:bg-gray-700"),children:[e.jsxs("div",{className:i("flex items-start justify-between p-4 border-b rounded-t",t==="light"?"light:border-gray-600":"dark:border-gray-600"),children:[e.jsx("h3",{id:"modal-title",className:i("text-xl font-semibold",t==="light"?"text-gray-900":"text-white"),children:a}),e.jsx("button",{ref:f,type:"button",className:i("text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center","dark:hover:bg-gray-600 dark:hover:text-white"),onClick:()=>{d(!1),u&&u()},"aria-label":"Close modal","aria-labelledby":"modal-title",children:e.jsx("span",{"aria-hidden":"true",children:"×"})})]}),e.jsx("div",{id:"modal-description",className:"p-6 space-y-6 flex items-start","aria-live":"polite",children:e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:i("text-base",t==="light"?"text-gray-900":"text-white"),children:n})})}),e.jsx("div",{className:i("flex justify-end items-end p-6 space-x-2 border-t border-gray-200 rounded-b",t==="light"?"light:border-gray-600":"dark:border-gray-600"),children:e.jsx(h,{isDark:t==="dark",variant:l,onClick:()=>{d(!1),o&&o()},"aria-label":"Cancel",children:"Continue"})})]})})})})}try{V.displayName="Continue",V.__docgenInfo={description:"",displayName:"Continue",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},body:{defaultValue:null,description:"",name:"body",required:!0,type:{name:"string"}},buttonVariant:{defaultValue:{value:"outline"},description:"",name:"buttonVariant",required:!1,type:{name:"string"}},onAccept:{defaultValue:null,description:"",name:"onAccept",required:!1,type:{name:"(() => void)"}},onDecline:{defaultValue:null,description:"",name:"onDecline",required:!1,type:{name:"(() => void)"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},backgroundMask:{defaultValue:{value:"false"},description:"",name:"backgroundMask",required:!1,type:{name:"boolean"}},setModalStatus:{defaultValue:null,description:"",name:"setModalStatus",required:!0,type:{name:"(status: boolean) => void"}},modalRef:{defaultValue:null,description:"",name:"modalRef",required:!0,type:{name:"MutableRefObject<HTMLDivElement | null>"}},closeButtonRef:{defaultValue:null,description:"",name:"closeButtonRef",required:!0,type:{name:"MutableRefObject<HTMLButtonElement | null>"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}}}}}catch{}function j(a){const r={agree:k,continue:V}[modalType];if(!r)throw new Error(`Invalid prop modalType: ${modalType}`);return e.jsx(r,{...otherProps})}try{j.displayName="ModalBody",j.__docgenInfo={description:"",displayName:"ModalBody",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},body:{defaultValue:null,description:"",name:"body",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onAccept:{defaultValue:null,description:"",name:"onAccept",required:!0,type:{name:"() => void"}},onDecline:{defaultValue:null,description:"",name:"onDecline",required:!1,type:{name:"(() => void)"}},focusLock:{defaultValue:null,description:"",name:"focusLock",required:!0,type:{name:"boolean"}},setModalStatus:{defaultValue:null,description:"",name:"setModalStatus",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},modalRef:{defaultValue:null,description:"",name:"modalRef",required:!0,type:{name:"RefObject<HTMLDivElement>"}},closeButtonRef:{defaultValue:null,description:"",name:"closeButtonRef",required:!0,type:{name:"RefObject<HTMLButtonElement>"}},buttonVariant:{defaultValue:null,description:"",name:"buttonVariant",required:!0,type:{name:"string"}},modalType:{defaultValue:null,description:"",name:"modalType",required:!0,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},maskColor:{defaultValue:null,description:"",name:"maskColor",required:!1,type:{name:"string"}},backgroundMask:{defaultValue:null,description:"",name:"backgroundMask",required:!1,type:{name:"boolean"}}}}}catch{}const D=({children:a,title:n="Sample Title",body:r="yo i am the body of the modal",onAccept:o,onDecline:u,onClose:l,modalType:t,focusLock:s=!0,theme:d,backgroundMask:c=!1,buttonVariant:f="outline"})=>{const[g,b]=m.useState(!1),x=m.useRef(null),N=m.useRef(null),q=m.useRef(null);return E(x,g,s),B(()=>b(!1)),T(x,()=>b(!1)),m.useEffect(()=>{var p;g||(p=q.current)==null||p.focus()},[g]),e.jsxs(e.Fragment,{children:[v.Children.map(a,p=>v.isValidElement(p)?v.cloneElement(p,{onClick:()=>b(!0),ref:q,type:"button"}):p),g&&e.jsx(j,{backgroundMask:c,buttonVariant:f,title:n,body:r,onAccept:o,onDecline:u,onClose:l,modalRef:x,closeButtonRef:N,setModalStatus:b,theme:d,modalType:t,focusLock:s})]})},C=D;function B(a){m.useEffect(()=>{const n=r=>{r.key==="Escape"&&a()};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[a])}try{Modalindex.displayName="Modalindex",Modalindex.__docgenInfo={description:"",displayName:"Modalindex",props:{modalType:{defaultValue:null,description:"",name:"modalType",required:!0,type:{name:"string"}},buttonVariant:{defaultValue:{value:"outline"},description:"",name:"buttonVariant",required:!1,type:{name:"string"}},title:{defaultValue:{value:"Sample Title"},description:"",name:"title",required:!1,type:{name:"string"}},body:{defaultValue:{value:"yo i am the body of the modal"},description:"",name:"body",required:!1,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onAccept:{defaultValue:null,description:"",name:"onAccept",required:!0,type:{name:"() => void"}},onDecline:{defaultValue:null,description:"",name:"onDecline",required:!1,type:{name:"(() => void)"}},backgroundMask:{defaultValue:{value:"false"},description:"",name:"backgroundMask",required:!1,type:{name:"boolean"}},focusLock:{defaultValue:{value:"true"},description:"",name:"focusLock",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"string"}}}}}catch{}const I={title:"Components/Modal",component:C,argTypes:{modalType:{options:["agree","continue"],control:{type:"radio"}},buttonVariant:{options:["primary","link","outline"],control:{type:"radio"}}}},L=a=>e.jsx(C,{...a}),y=L.bind({});y.args={focusLock:!1,title:"Sample Title",body:"This is the body of the modal",onClose:()=>{},onAccept:()=>{},onDecline:()=>{},theme:"dark",buttonVariant:"outline",backgroundMask:!0,modalType:"agree",children:e.jsx(h,{variant:"primary",rightIcon:R,isDarkBg:!1,children:"Primary Variant"})};var w,M,_;y.parameters={...y.parameters,docs:{...(w=y.parameters)==null?void 0:w.docs,source:{originalSource:`args => {
  return <Modal {...args} />;
}`,...(_=(M=y.parameters)==null?void 0:M.docs)==null?void 0:_.source}}};const F=["Primary"];export{y as Primary,F as __namedExportsOrder,I as default};
//# sourceMappingURL=Modal.stories-156da8a2.js.map
